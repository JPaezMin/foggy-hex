import{_ as L}from"./CbDJbKM9.js";import{g as q,h as T,c as p,o,a as r,i as M,n as D,j as i,k as A,w as Y,d as P,t as h,p as O,l as C,f as U,b as z,F as j,r as B,_ as H}from"#entry";import{u as F,q as V}from"./CuggS77p.js";const R=["aria-disabled"],G={class:"w-full aspect-[16/9] overflow-hidden mb-4 relative"},W=["src","alt"],J={key:0,class:"absolute inset-0 bg-black/65 text-white font-heading text-sm uppercase tracking-[0.3em] flex items-center justify-center"},K={class:"flex-1 flex flex-col justify-between text-center"},Q={key:1,class:"font-heading text-2xl mb-2 line-clamp-2 min-h-[3.5rem] opacity-70","aria-disabled":"true"},X={class:"font-sans text-base text-gray-600 min-h-[1.5rem]"},Z=q({__name:"EventCard",props:{event:{},isExpired:{type:Boolean}},setup(S){const n=S,_=T(()=>{if(!n.event?.date)return"";const d=n.event.date.split("-").map(Number);if(d.length!==3)return n.event.date;const[b,v,w]=d;if(!w||!v||!b)return n.event.date;const N=String(w).padStart(2,"0"),k=String(v).padStart(2,"0"),I=String(b);return`${N}/${k}/${I}`}),y=T(()=>!!n.isExpired);return(d,b)=>{const v=L;return o(),p("article",{class:D(["bg-white title-box p-4 flex flex-col transition relative",i(y)?"opacity-60":""]),"aria-disabled":i(y)?"true":"false"},[r("div",G,[r("img",{src:d.event.image,alt:d.event.title,class:D(["w-full h-full object-cover transition duration-300",i(y)?"grayscale scale-105":""])},null,10,W),i(y)?(o(),p("div",J," Evento pasado ")):M("",!0)]),r("div",K,[i(y)?(o(),p("p",Q,h(d.event.title),1)):(o(),A(v,{key:0,to:`/events/${d.event.slug}`,class:"font-heading text-2xl mb-2 line-clamp-2 min-h-[3.5rem] underline decoration-inherit decoration-1 underline-offset-4"},{default:Y(()=>[P(h(d.event.title),1)]),_:1},8,["to"])),r("p",X,h(i(_))+" - "+h(d.event.venue),1)])],10,R)}}}),ee=Object.assign(Z,{__name:"EventCard"}),te=O("/images/fh-deco.svg"),se=""+new URL("current-event-poster.Brg6WUtj.jpg",import.meta.url).href,re={class:"container mx-auto min-h-screen text-text space-y-6 py-10"},ne={id:"current-event",class:"container mx-auto flex flex-col items-center justify-center px-6 py-6"},ae={id:"future-events",class:"container mx-auto px-6 py-6"},oe={key:1,class:"text-center text-lg font-sans text-gray-600"},ie={id:"past-events",class:"container mx-auto px-6 py-12"},le={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},ce={class:"w-full aspect-[16/9] overflow-hidden rounded"},de=["src","alt"],me={class:"font-heading text-lg mt-2 text-center truncate"},pe={class:"font-sans text-sm text-center text-gray-600"},ue={key:1,class:"text-center text-lg font-sans text-gray-600"},fe=q({__name:"index",async setup(S){let n,_;const{data:y}=([n,_]=C(()=>F("future-events",()=>V("future").order("date","ASC").all())),n=await n,_(),n),{data:d}=([n,_]=C(()=>F("past-events",()=>V("past").order("date","DESC").all())),n=await n,_(),n),b=new Date,v=new Date(b.getFullYear(),b.getMonth(),b.getDate()),w=g=>{if(!g)return null;const t=g.trim();if(!t)return null;if(/^\d{4}-\d{2}-\d{2}/.test(t)){const s=(t.split("T")[0]??"").split("-").map(a=>a.trim());if(s.length===3){const[a,c,f]=s,m=Number.parseInt(a,10),x=Number.parseInt(c,10),E=Number.parseInt(f,10);if(Number.isInteger(m)&&Number.isInteger(x)&&Number.isInteger(E)&&m>=1900&&m<=3e3&&x>=1&&x<=12&&E>=1&&E<=31){const $=new Date(m,x-1,E);if(!Number.isNaN($.getTime()))return $}}}if(/^\d{1,2}\/\d{1,2}\/\d{2,4}$/.test(t)){const[e,s,a]=t.split("/").map(x=>x.trim()),c=Number.parseInt(e,10),f=Number.parseInt(s,10),m=Number.parseInt(a.length===2?`20${a}`:a,10);if(Number.isInteger(m)&&Number.isInteger(f)&&Number.isInteger(c)&&m>=1900&&m<=3e3&&f>=1&&f<=12&&c>=1&&c<=31){const x=new Date(m,f-1,c);if(!Number.isNaN(x.getTime()))return x}}const u=new Date(t);if(Number.isNaN(u.getTime()))return null;const l=u.getFullYear();return l<1900||l>3e3?null:u},N=T(()=>{const t=(y.value??[]).map(e=>{const s=w(e.date),a=s?.getTime()??Number.POSITIVE_INFINITY,c=!!(s&&s<v);return{...e,isExpired:c,sortTimestamp:a}}),u=t.filter(e=>!e.isExpired).sort((e,s)=>e.sortTimestamp!==s.sortTimestamp?e.sortTimestamp-s.sortTimestamp:e.title.localeCompare(s.title)),l=t.filter(e=>e.isExpired).sort((e,s)=>e.sortTimestamp!==s.sortTimestamp?s.sortTimestamp-e.sortTimestamp:e.title.localeCompare(s.title));return[...u,...l]}),k=T(()=>(d.value??[]).filter(g=>{const t=w(g.date);return!t||t<v})),I=g=>{if(!g)return"";const t=g.trim();if(/^\d{4}-\d{2}-\d{2}/.test(t)){const e=(t.split("T")[0]??"").split("-").map(s=>s.trim());if(e.length===3){const[s,a,c]=e,f=c.padStart(2,"0"),m=a.padStart(2,"0");return f+"/"+m+"/"+s}}const u=t.split("/").map(l=>l.trim());if(u.length===3){const[l,e,s]=u;if(l&&e&&s){const a=s.length===2?"20"+s:s,c=l.padStart(2,"0"),f=e.padStart(2,"0");return c+"/"+f+"/"+a}}return t};return(g,t)=>{const u=L,l=ee;return o(),p("div",re,[t[4]||(t[4]=U('<section id="about" class="container py-12" data-v-6111af85><div class="grid grid-cols-1 lg:grid-cols-3 gap-16 items-stretch max-w-6xl mx-auto" data-v-6111af85><div class="lg:col-span-2 flex items-center border-l border-text pl-6" data-v-6111af85><p class="font-heading text-2xl lg:text-4xl leading-snug" data-v-6111af85> Somos un colectivo con base de operaciones en Barcelona. Nacemos de la necesidad de celebrar espacios y escenas que residen en el margen de nuestra ciudad y a la vez acercar a ella proyectos internacionales que nos inspiran. </p></div><div class="relative hidden lg:flex justify-center items-center" data-v-6111af85><img src="'+te+'" alt="Foggy Hex Deco" class="h-full max-h-[360px] w-auto object-contain opacity-90" data-v-6111af85></div></div></section>',1)),r("section",ne,[t[1]||(t[1]=r("h2",{class:"text-[32px] bg-sky-50 font-heading mb-8 text-center title-box px-6 py-2 border-1 border-text"}," Próximamente ",-1)),z(u,{to:"/events/poirier-volt-jgg"},{default:Y(()=>[...t[0]||(t[0]=[r("img",{src:se,alt:"Cartel de nuestro próximo evento",class:"w-[478px] h-auto object-contain mt-8"},null,-1)])]),_:1})]),r("section",ae,[t[2]||(t[2]=r("h2",{class:"text-[32px] bg-sky-50 font-heading mb-8 text-center title-box px-6 py-2 border-1 border-text"}," Próximos Eventos ",-1)),i(N).length?(o(),p("div",{key:0,class:D(["grid gap-8",i(N).length===1?"grid-cols-1":i(N).length===2?"grid-cols-1 md:grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"])},[(o(!0),p(j,null,B(i(N),e=>(o(),A(l,{key:e.slug,event:e,"is-expired":e.isExpired},null,8,["event","is-expired"]))),128))],2)):(o(),p("p",oe," No hay próximos eventos por ahora. ¡Vuelve pronto! "))]),t[5]||(t[5]=r("section",{id:"newsletter",class:"container mx-auto px-6 py-6"},[r("div",{class:"border-t border border-text mx-auto py-8 px-8 lg:px-16 lg:py-16"},[r("div",{class:"grid grid-cols-1 md:grid-cols-2 items-center gap-8"},[r("div",{class:"text-left"},[r("h2",{class:"font-heading text-3xl mb-4"}," Suscríbete a nuestra newsletter. "),r("p",{class:"text-lg text-gray-700 max-w-md"}," Únete a nuestra lista de correo para enterarte primero de los próximos conciertos, novedades y noticias de Foggy Hex. ")]),r("div",{class:"w-full"},[r("form",{action:"https://foggyhexbcn.us13.list-manage.com/subscribe/post?u=3bf61944f37a5e219e4fdccda&id=c32ef2e9a5&f_id=001b02e9f0",method:"post",target:"_blank",novalidate:"",class:"flex flex-col sm:flex-row w-full md:max-w-md"},[r("input",{type:"email",name:"EMAIL",placeholder:"Tu correo electrónico",required:"",class:"flex-grow px-4 py-3 border border-gray-400 sm:rounded-l sm:rounded-r-none rounded focus:outline-none focus:ring-2 focus:ring-sky-400"}),r("button",{type:"submit",class:"bg-black text-white px-6 py-3 sm:rounded-r sm:rounded-l-none rounded font-medium hover:bg-gray-800 transition mt-2 sm:mt-0"}," Suscribirse ")])])])])],-1)),r("section",ie,[t[3]||(t[3]=r("h2",{class:"text-4xl bg-sky-50 font-heading mb-8 text-center title-box px-6 py-2 border-1 border-text"}," Eventos Pasados ",-1)),i(k)&&i(k).length?(o(),p("div",le,[(o(!0),p(j,null,B(i(k),e=>(o(),p("div",{key:e.title,class:"flex flex-col"},[r("div",ce,[r("img",{src:`${e.image}`,alt:e.title,class:"w-full h-full object-cover grayscale transition"},null,8,de)]),r("h3",me,h(e.title),1),r("p",pe,h(I(e.date))+" — "+h(e.venue),1)]))),128))])):(o(),p("p",ue," No hay eventos pasados registrados. "))])])}}}),be=H(fe,[["__scopeId","data-v-6111af85"]]);export{be as default};

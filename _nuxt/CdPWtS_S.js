import{_ as L}from"./CbDJbKM9.js";import{g as q,h as E,c as p,o,a as n,i as P,n as I,j as i,k as A,w as Y,d as O,t as h,p as z,l as C,f as G,b as H,F as j,r as B,_ as Q}from"#entry";import{u as F,q as V}from"./DRfZ9JAv.js";const R=["aria-disabled"],U={class:"w-full aspect-[16/9] overflow-hidden mb-4 relative"},J=["src","alt"],K={key:0,class:"absolute inset-0 bg-black/65 text-white font-heading text-sm uppercase tracking-[0.3em] flex items-center justify-center"},W={class:"flex-1 flex flex-col justify-between text-center"},X={key:1,class:"font-heading text-2xl mb-2 line-clamp-2 min-h-[3.5rem] opacity-70","aria-disabled":"true"},Z={class:"font-sans text-base text-gray-600 min-h-[1.5rem]"},ee=q({__name:"EventCard",props:{event:{},isExpired:{type:Boolean}},setup(S){const r=S,_=E(()=>{if(!r.event?.date)return"";const d=r.event.date.split("-").map(Number);if(d.length!==3)return r.event.date;const[y,v,N]=d;if(!N||!v||!y)return r.event.date;const D=String(N).padStart(2,"0"),w=String(v).padStart(2,"0"),k=String(y);return`${D}/${w}/${k}`}),b=E(()=>!!r.isExpired);return(d,y)=>{const v=L;return o(),p("article",{class:I(["bg-white title-box p-4 flex flex-col transition relative",[i(b)?"opacity-60":""]]),"aria-disabled":i(b)?"true":"false"},[n("div",U,[n("img",{src:d.event.image,alt:d.event.title,class:I(["w-full h-full object-cover transition duration-300",i(b)?"grayscale scale-105":""])},null,10,J),i(b)?(o(),p("div",K," Evento pasado ")):P("",!0)]),n("div",W,[i(b)?(o(),p("p",X,h(d.event.title),1)):(o(),A(v,{key:0,to:`/events/${d.event.slug}`,class:"font-heading text-2xl mb-2 line-clamp-2 min-h-[3.5rem] underline decoration-inherit decoration-1 underline-offset-4"},{default:Y(()=>[O(h(d.event.title),1)]),_:1},8,["to"])),n("p",Z,h(i(_))+" - "+h(d.event.venue),1)])],10,R)}}}),te=Object.assign(ee,{__name:"EventCard"}),se=z("/images/fh-deco.svg"),ne=""+new URL("current-event-poster.DQQ4iwD-.jpg",import.meta.url).href,re={class:"container mx-auto min-h-screen text-text space-y-6 py-10"},ae={id:"current-event",class:"container mx-auto flex flex-col items-center justify-center px-6 py-6 hidden"},oe={id:"future-events",class:"container mx-auto px-6 py-6"},ie={key:1,class:"text-center text-lg font-sans text-gray-600"},le={id:"past-events",class:"container mx-auto px-6 py-12"},ce={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},de={class:"w-full aspect-[16/9] overflow-hidden rounded"},me=["src","alt"],pe={class:"font-heading text-lg mt-2 text-center truncate"},ue={class:"font-sans text-sm text-center text-gray-600"},xe={key:1,class:"text-center text-lg font-sans text-gray-600"},ge=q({__name:"index",async setup(S){let r,_;const{data:b}=([r,_]=C(()=>F("future-events",()=>V("future").order("date","ASC").all())),r=await r,_(),r),{data:d}=([r,_]=C(()=>F("past-events",()=>V("past").order("date","DESC").all())),r=await r,_(),r),y=new Date,v=new Date(y.getFullYear(),y.getMonth(),y.getDate()),N=g=>{if(!g)return null;const t=g.trim();if(!t)return null;if(/^\d{4}-\d{2}-\d{2}/.test(t)){const s=(t.split("T")[0]??"").split("-").map(a=>a.trim());if(s.length===3){const[a,c,x]=s,m=Number.parseInt(a,10),f=Number.parseInt(c,10),T=Number.parseInt(x,10);if(Number.isInteger(m)&&Number.isInteger(f)&&Number.isInteger(T)&&m>=1900&&m<=3e3&&f>=1&&f<=12&&T>=1&&T<=31){const $=new Date(m,f-1,T);if(!Number.isNaN($.getTime()))return $}}}if(/^\d{1,2}\/\d{1,2}\/\d{2,4}$/.test(t)){const[e,s,a]=t.split("/").map(f=>f.trim()),c=Number.parseInt(e,10),x=Number.parseInt(s,10),m=Number.parseInt(a.length===2?`20${a}`:a,10);if(Number.isInteger(m)&&Number.isInteger(x)&&Number.isInteger(c)&&m>=1900&&m<=3e3&&x>=1&&x<=12&&c>=1&&c<=31){const f=new Date(m,x-1,c);if(!Number.isNaN(f.getTime()))return f}}const u=new Date(t);if(Number.isNaN(u.getTime()))return null;const l=u.getFullYear();return l<1900||l>3e3?null:u},D=E(()=>{const t=(b.value??[]).map(e=>{const s=N(e.date),a=s?.getTime()??Number.POSITIVE_INFINITY,c=!!(s&&s<v);return{...e,isExpired:c,sortTimestamp:a}}),u=t.filter(e=>!e.isExpired).sort((e,s)=>e.sortTimestamp!==s.sortTimestamp?e.sortTimestamp-s.sortTimestamp:e.title.localeCompare(s.title)),l=t.filter(e=>e.isExpired).sort((e,s)=>e.sortTimestamp!==s.sortTimestamp?s.sortTimestamp-e.sortTimestamp:e.title.localeCompare(s.title));return[...u,...l]}),w=E(()=>D.value.slice(0,3)),k=E(()=>(d.value??[]).filter(g=>{const t=N(g.date);return!t||t<v})),M=g=>{if(!g)return"";const t=g.trim();if(/^\d{4}-\d{2}-\d{2}/.test(t)){const e=(t.split("T")[0]??"").split("-").map(s=>s.trim());if(e.length===3){const[s,a,c]=e,x=c.padStart(2,"0"),m=a.padStart(2,"0");return x+"/"+m+"/"+s}}const u=t.split("/").map(l=>l.trim());if(u.length===3){const[l,e,s]=u;if(l&&e&&s){const a=s.length===2?"20"+s:s,c=l.padStart(2,"0"),x=e.padStart(2,"0");return c+"/"+x+"/"+a}}return t};return(g,t)=>{const u=L,l=te;return o(),p("div",re,[t[4]||(t[4]=G('<section id="about" class="container py-12" data-v-4b2da067><div class="grid grid-cols-1 lg:grid-cols-3 gap-16 items-stretch max-w-6xl mx-auto" data-v-4b2da067><div class="lg:col-span-2 flex items-center border-l border-text pl-6" data-v-4b2da067><p class="font-heading text-2xl lg:text-4xl leading-snug" data-v-4b2da067> Somos un colectivo con base de operaciones en Barcelona. Nacemos de la necesidad de celebrar espacios y escenas que residen en el margen de nuestra ciudad y a la vez acercar a ella proyectos internacionales que nos inspiran. </p></div><div class="relative hidden lg:flex justify-center items-center" data-v-4b2da067><img src="'+se+'" alt="Foggy Hex Deco" class="h-full max-h-[360px] w-auto object-contain opacity-90" data-v-4b2da067></div></div></section>',1)),n("section",ae,[t[1]||(t[1]=n("h2",{class:"text-[32px] bg-sky-50 font-heading mb-8 text-center title-box px-6 py-2 border-1 border-text"}," Próximamente ",-1)),H(u,{to:"/events/hekura-jordi-santanach"},{default:Y(()=>[...t[0]||(t[0]=[n("img",{src:ne,alt:"Cartel de nuestro próximo evento",class:"w-[478px] h-auto object-contain mt-8"},null,-1)])]),_:1})]),n("section",oe,[t[2]||(t[2]=n("h2",{class:"text-[32px] bg-sky-50 font-heading mb-8 text-center title-box px-6 py-2 border-1 border-text"}," Próximos Eventos ",-1)),i(w).length?(o(),p("div",{key:0,class:I(["grid gap-8",i(w).length===1?"grid-cols-1":i(w).length===2?"grid-cols-1 md:grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"])},[(o(!0),p(j,null,B(i(w),e=>(o(),A(l,{key:e.slug,event:e,"is-expired":e.isExpired},null,8,["event","is-expired"]))),128))],2)):(o(),p("p",ie," No hay próximos eventos por ahora. ¡Vuelve pronto! "))]),t[5]||(t[5]=n("section",{id:"newsletter",class:"container mx-auto px-6 py-6"},[n("div",{class:"border-t border border-text mx-auto py-8 px-8 lg:px-16 lg:py-16"},[n("div",{class:"grid grid-cols-1 md:grid-cols-2 items-center gap-8"},[n("div",{class:"text-left"},[n("h2",{class:"font-heading text-3xl mb-4"}," Suscríbete a nuestra newsletter. "),n("p",{class:"text-lg text-gray-700 max-w-md"}," Únete a nuestra lista de correo para enterarte primero de los próximos conciertos, novedades y noticias de Foggy Hex. ")]),n("div",{class:"w-full"},[n("form",{action:"https://foggyhexbcn.us13.list-manage.com/subscribe/post?u=3bf61944f37a5e219e4fdccda&id=c32ef2e9a5&f_id=001b02e9f0",method:"post",target:"_blank",novalidate:"",class:"flex flex-col sm:flex-row w-full md:max-w-md"},[n("input",{type:"email",name:"EMAIL",placeholder:"Tu correo electrónico",required:"",class:"flex-grow px-4 py-3 border border-gray-400 sm:rounded-l sm:rounded-r-none rounded focus:outline-none focus:ring-2 focus:ring-sky-400"}),n("button",{type:"submit",class:"bg-black text-white px-6 py-3 sm:rounded-r sm:rounded-l-none rounded font-medium hover:bg-gray-800 transition mt-2 sm:mt-0"}," Suscribirse ")])])])])],-1)),n("section",le,[t[3]||(t[3]=n("h2",{class:"text-4xl bg-sky-50 font-heading mb-8 text-center title-box px-6 py-2 border-1 border-text"}," Eventos Pasados ",-1)),i(k)&&i(k).length?(o(),p("div",ce,[(o(!0),p(j,null,B(i(k),e=>(o(),p("div",{key:e.title,class:"flex flex-col"},[n("div",de,[n("img",{src:`${e.image}`,alt:e.title,class:"w-full h-full object-cover grayscale transition"},null,8,me)]),n("h3",pe,h(e.title),1),n("p",ue,h(M(e.date))+" — "+h(e.venue),1)]))),128))])):(o(),p("p",xe," No hay eventos pasados registrados. "))])])}}}),ve=Q(ge,[["__scopeId","data-v-4b2da067"]]);export{ve as default};
